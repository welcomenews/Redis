
Напишите программу, которая при запуске принимает в качестве аргумента путь к файлу и выводит в stdout 100 последних байт его содержимого (если размер файла меньше 100 байт, то, разумеется, нужно выводить всё содержимое целиком). Вам может показаться, что это задание не имеет отношения к Redis, но это не так. Проходной балл вы получите, если:

Ваш скрипт, вызванный с аргументом $file будет выдавать результат, идентичный вызову команды tail -c 100 $file, но при втором и последующих вызовах будет работать быстрее (то есть время выполнения вашего скрипта должно быть меньше, чем у tail).

Ваш скрипт читает файл только один раз, сколько бы не было вызовов с одинаковым аргументом.

Ваш скрипт корректно работает с любым содержимым файла, включая символы перевода строк, кавычки и вообще любые бинарные последовательности. Вывод должен содержать строго 100 последних байт из исходного файла без каких бы то ни было других символов (никаких \n в конце!).

Ваш скрипт корректно работает с файлами любого размера: вам, конечно, нужно последовательно прочитать весь файл, чтобы добраться до последних 100 байт, но зачем при этом всё хранить в оперативной памяти? Её может не хватить, проверка не постесняется предложить вашему скрипту файл на пару терабайт и будет ждать, что всё сработает правильно. Читайте файл небольшими частями.

Ключ cmd-fcat должен содержать команду для запуска вашей программы.

=========================================

$ redis-cli SET cmd-fcat "python3 /home/user/file03.py"

sudo apt install python3-pip -y

$ pip3 install redis

$ python3 file03.py loo.txt

